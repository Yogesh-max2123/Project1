import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
    systemInstruction: "\n\n",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
     export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 8 Days for Couple with a Cheap Budget, Give me hotels options list with Hotel Name, Hotel Address, Price, Hotel image, url,geo coordinates, rating, description and suggest itinerary with placename, placeLocation, address, price, images, url, rating, description, geocordinates, ticket pricing and timing for travel each of the location for 3 days with each day plan to visit at the best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"trip_details\": {\n    \"location\": \"Las Vegas\",\n    \"duration\": \"8 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n  \"hotel_options\": [\n    {\n      \"hotel_name\": \"Circus Circus Hotel, Casino & Theme Park\",\n      \"hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotel_image\": \"https://example.com/circus_circus.jpg\",\n      \"url\": \"https://www.circuscircus.com/\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1363,\n        \"longitude\": -115.1631\n      },\n      \"rating\": 3.8,\n      \"description\": \"Budget-friendly option on the Strip with a free circus act and Adventuredome theme park. Can be a bit dated, but good for saving money.\"\n    },\n    {\n      \"hotel_name\": \"Excalibur Hotel & Casino\",\n      \"hotel_address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n      \"hotel_image\": \"https://example.com/excalibur.jpg\",\n      \"url\": \"https://www.excalibur.com/\",\n      \"geo_coordinates\": {\n         \"latitude\": 36.0987,\n         \"longitude\": -115.1734\n      },\n      \"rating\": 4.0,\n      \"description\": \"Castle-themed hotel on the Strip with affordable rooms. Offers a variety of dining and entertainment options.\"\n    },\n   {\n      \"hotel_name\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotel_address\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $75 per night\",\n       \"hotel_image\": \"https://example.com/oyo_lasvegas.jpg\",\n       \"url\": \"https://www.oyohotels.com/us/hotels-in-las-vegas/oyo-hotel-casino-las-vegas/\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1014,\n        \"longitude\": -115.1695\n      },\n       \"rating\": 3.7,\n       \"description\": \"A budget-friendly option near the Strip. Offers basic amenities and is a good choice for budget travelers.\"\n    }\n  ],\n    \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip & Free Attractions\",\n       \"places\": [\n        {\n          \"place_name\": \"Bellagio Conservatory & Botanical Garden\",\n           \"place_location\": \"Bellagio Hotel & Casino\",\n          \"address\": \"3600 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"price\": \"Free\",\n          \"images\": [\"https://example.com/bellagio_garden1.jpg\", \"https://example.com/bellagio_garden2.jpg\"],\n          \"url\": \"https://bellagio.mgmresorts.com/en/entertainment/conservatory-botanical-garden.html\",\n          \"rating\": 4.8,\n          \"description\": \"Stunning seasonal floral displays. Best to visit early morning or late evening to avoid crowds.\",\n           \"geo_coordinates\": {\n             \"latitude\": 36.1126,\n             \"longitude\": -115.1738\n            },\n           \"ticket_pricing\": \"Free\",\n          \"timing\": \"Open 24 Hours\"\n        },\n         {\n          \"place_name\": \"Fountains of Bellagio\",\n          \"place_location\": \"Bellagio Hotel & Casino\",\n          \"address\": \"3600 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"price\": \"Free\",\n          \"images\": [\"https://example.com/bellagio_fountains1.jpg\", \"https://example.com/bellagio_fountains2.jpg\"],\n          \"url\": \"https://bellagio.mgmresorts.com/en/entertainment/fountains-of-bellagio.html\",\n          \"rating\": 4.9,\n           \"description\": \"Iconic water show with music and lights. Shows run every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n           \"geo_coordinates\": {\n             \"latitude\": 36.1127,\n             \"longitude\": -115.1743\n            },\n          \"ticket_pricing\": \"Free\",\n            \"timing\": \"Afternoon and Evening\"\n        },\n        {\n          \"place_name\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"place_location\": \"South Las Vegas Boulevard\",\n          \"address\": \"5100 S Las Vegas Blvd, Las Vegas, NV 89119\",\n          \"price\": \"Free\",\n          \"images\": [\"https://example.com/las_vegas_sign1.jpg\", \"https://example.com/las_vegas_sign2.jpg\"],\n          \"url\": \"https://www.lasvegas.com/listing/welcome-to-fabulous-las-vegas-sign/2487/\",\n          \"rating\": 4.7,\n          \"description\": \"Must-see photo opportunity. Visit during the day for clear pictures. Can be crowded.\",\n           \"geo_coordinates\": {\n             \"latitude\": 36.0798,\n              \"longitude\": -115.1725\n            },\n           \"ticket_pricing\": \"Free\",\n            \"timing\": \"Any time\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street\",\n      \"places\": [\n        {\n          \"place_name\": \"Fremont Street Experience\",\n          \"place_location\": \"Downtown Las Vegas\",\n          \"address\": \"Fremont St, Las Vegas, NV 89101\",\n          \"price\": \"Free\",\n          \"images\": [\"https://example.com/fremont_street1.jpg\", \"https://example.com/fremont_street2.jpg\"],\n          \"url\": \"https://vegasexperience.com/\",\n          \"rating\": 4.6,\n          \"description\": \"Pedestrian mall with a Viva Vision light show. Best to visit in the evening for the full experience.\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1701,\n            \"longitude\": -115.1400\n           },\n         \"ticket_pricing\": \"Free\",\n         \"timing\": \"Evening\"\n        },\n         {\n          \"place_name\": \"Container Park\",\n          \"place_location\": \"Downtown Las Vegas\",\n          \"address\": \"707 Fremont St, Las Vegas, NV 89101\",\n          \"price\": \"Free to enter (individual costs vary)\",\n          \"images\": [\"https://example.com/container_park1.jpg\", \"https://example.com/container_park2.jpg\"],\n          \"url\": \"https://downtowncontainerpark.com/\",\n          \"rating\": 4.4,\n           \"description\": \"Unique shopping, dining, and entertainment venue made from shipping containers. Family-friendly with a playground.\",\n           \"geo_coordinates\": {\n             \"latitude\": 36.1675,\n              \"longitude\": -115.1360\n            },\n          \"ticket_pricing\": \"Free to enter\",\n           \"timing\": \"Afternoon to Evening\"\n         },\n        {\n          \"place_name\": \"Mob Museum\",\n          \"place_location\": \"Downtown Las Vegas\",\n          \"address\": \"300 Stewart Ave, Las Vegas, NV 89101\",\n          \"price\": \"$29.95 per person\",\n          \"images\": [\"https://example.com/mob_museum1.jpg\", \"https://example.com/mob_museum2.jpg\"],\n          \"url\": \"https://themobmuseum.org/\",\n          \"rating\": 4.7,\n          \"description\": \"Interactive museum about the history of organized crime. Visit during the day.\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1689,\n            \"longitude\": -115.1422\n          },\n          \"ticket_pricing\":\"$29.95 per person\",\n          \"timing\": \"Daytime, typically from 9 AM to 9 PM\"\n        }\n\n      ]\n    },\n    \"day3\": {\n       \"theme\": \"Off-Strip Adventures & Scenic Views\",\n      \"places\": [\n        {\n          \"place_name\": \"Red Rock Canyon National Conservation Area\",\n          \"place_location\": \"West of Las Vegas\",\n           \"address\": \"1000 Scenic Loop Dr, Las Vegas, NV 89161\",\n          \"price\": \"$15 per vehicle\",\n           \"images\": [\"https://example.com/red_rock1.jpg\", \"https://example.com/red_rock2.jpg\"],\n          \"url\": \"https://www.redrockcanyonlv.org/\",\n          \"rating\": 4.8,\n          \"description\": \"Scenic drive and hiking trails. Best visited in the morning or late afternoon to avoid the heat. Bring water.\",\n           \"geo_coordinates\": {\n              \"latitude\": 36.1456,\n              \"longitude\": -115.4146\n            },\n            \"ticket_pricing\": \"$15 per vehicle\",\n            \"timing\": \"Morning or late afternoon\"\n        },\n       {\n         \"place_name\": \"The LINQ Promenade\",\n         \"place_location\": \"Between The Linq and Flamingo Hotels\",\n         \"address\": \"3545 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"price\": \"Free to Enter (Individual costs vary)\",\n         \"images\": [\"https://example.com/linq_promenade1.jpg\", \"https://example.com/linq_promenade2.jpg\"],\n          \"url\": \"https://www.caesars.com/linq/things-to-do/the-linq-promenade\",\n          \"rating\": 4.4,\n         \"description\": \"Open-air shopping, dining and entertainment district. Includes the High Roller Observation Wheel (ticketed).\",\n           \"geo_coordinates\": {\n             \"latitude\": 36.1164,\n            \"longitude\": -115.1696\n             },\n           \"ticket_pricing\": \"Free to Enter\",\n           \"timing\": \"Afternoon to Evening\"\n          },\n        {\n          \"place_name\": \"Ethel M Chocolate Factory & Botanical Cactus Garden\",\n           \"place_location\": \"Henderson\",\n           \"address\": \"2 Cactus Garden Dr, Henderson, NV 89014\",\n          \"price\": \"Free entry, small fee for chocolate tasting\",\n           \"images\": [\"https://example.com/ethel_m1.jpg\", \"https://example.com/ethel_m2.jpg\"],\n          \"url\": \"https://www.ethelm.com/\",\n          \"rating\": 4.5,\n          \"description\": \"Free factory viewing and cactus garden visit. Offers paid chocolate tasting options. A good afternoon stop.\",\n          \"geo_coordinates\": {\n              \"latitude\": 36.0521,\n              \"longitude\": -115.0266\n            },\n           \"ticket_pricing\": \"Free entry, small fee for chocolate tasting\",\n           \"timing\":\"Afternoon\"\n        }\n      ]\n    }\n  }\n}\n```"},
          ],
        },
      ],
    });
